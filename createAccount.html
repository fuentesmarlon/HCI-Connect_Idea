<html>
  <head>
  	<script src="require.js"></script>
	<title>Connect_Idea</title>
	<link rel="stylesheet" type="text/css" href="styleMain.css">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" type="text/css" href="stylesheetCreate.css">
</head>
<body>
<div class="w3-card-4">
  <div class="w3-display-middle w3-padding w3-hide-small" style="width:30%">
    <div class="w3-container w3-light-grey">
          <h2 class="w3-center"><b>Glad to Have you Aboard Newbie!</b></h2>

    </div>
    <div class="w3-cotainer w3-light-grey w3-center">
      <img class="" src="avatar.png"   style="width:30%">
    </div>
    <form class="w3-container w3-white" action="/action_page.php">
    
    <p>
    <label class="w3-text"><b>First Name</b></label>
    <input  id = "name_field" class="w3-input w3-border w3-light-grey" name="name" type="text">
    </p>
    
    <p>
    <label class="w3-text"><b>Last Name</b></label>
    <input  id = "lastname_field" class="w3-input w3-border w3-light-grey" name="last" type="text">
    </p>
    
    <p>
    <label class="w3-text"><b>Email</b></label>
    <input id = "email_field" class="w3-input w3-border w3-light-grey" name="email" type="text">
    </p>

    <p>
    <label class="w3-text"><b>Password</b></label>
    <input id = "password_field"class="w3-input w3-border w3-light-grey" name="password" type="text">
    </p>

    <p>
      <a onclick = "crearusuario()"  class="w3-btn w3-teal">Create Account</a>
      <a href="landingPage.html" class="w3-btn w3-pink w3-right">Cancel</a>
    </p>

  </form>
  </div>
  </div>


</div>
</body>

  <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase-firestore.js"></script>
  <script>
   
    define(function (require) {
      var firebase = require('firebase');
  	});	
    
    var config = {
      apiKey: "AIzaSyD_nzBSrlWsJoqkHhXpOHTLS3csCwbFqZc",
      authDomain: "conectaideauvg.firebaseapp.com",
      databaseURL: "https://conectaideauvg.firebaseio.com",
      projectId: "conectaideauvg",
      storageBucket: "",
      messagingSenderId: "46740331935"
    };

    firebase.initializeApp(config);
    var db = firebase.firestore();

    function crearusuario(){
    	var firstName = document.getElementById("name_field").value;
    	var lastName = document.getElementById("lastname_field").value;
      var userEmail = document.getElementById("email_field").value;
      var userPass = document.getElementById("password_field").value;

      db.collection('usuarios_datos').doc(String(userEmail)).set({
    	apellido: lastName,
    	correo: userEmail,
    	nombre: firstName
	})

    firebase.auth().createUserWithEmailAndPassword(userEmail, userPass).catch(function(error) {
      // Handle Errors here.
      var errorCode = error.code;
      var errorMessage = error.message;
      // ...
      window.alert("ERROR: " + errorMessage);
    });
  }
  

  </script>

</html>
